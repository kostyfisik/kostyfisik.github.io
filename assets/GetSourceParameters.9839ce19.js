import{u as I,h as y,i as T,I as k,f as F,d as H}from"./InputWithUnits.28d3e368.js";import{k as L,c as n,h as f,Q as P,W as C,r as R,ad as b,_ as V,aj as h,al as v,ak as m,X as $,Y as S,ae as w,a7 as l,Z as q,$ as Q,a3 as B,a2 as W,af as M,a4 as E,a0 as d}from"./index.9041cdd0.js";var N=L({name:"QToggle",props:{...I,icon:String,iconColor:String},emits:y,setup(e){function t(p,i){const u=n(()=>(p.value===!0?e.checkedIcon:i.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),r=n(()=>p.value===!0?e.iconColor:null);return()=>[f("div",{class:"q-toggle__track"}),f("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},u.value!==void 0?[f(P,{name:u.value,color:r.value})]:void 0)]}return T("toggle",t)}});const j=C({name:"GetSourceParameters",components:{InputWithUnits:k},props:{isInfoMode:{type:Boolean,default:!1}},setup(){const e=R(!0),t=b(),p=n({get:()=>t.state.guiRuntime.isShowingHelpForInputWithUnits,set:o=>t.commit("guiRuntime/setIsShowingHelpForInputWithUnits",o)}),i=n(()=>t.state.guiRuntime.sourceUnits),u=n({get:()=>h(t.state.simulationSetup.gui.fromWL,i.value),set:o=>{v(t.state.simulationSetup.gui.fromWL,m(i.value,o))||t.commit("simulationSetup/setFromWL",m(i.value,o))}}),r=n({get:()=>h(t.state.simulationSetup.gui.toWL,i.value),set:o=>{v(t.state.simulationSetup.gui.toWL,m(i.value,o))||t.commit("simulationSetup/setToWL",m(i.value,o))}}),a=n(()=>i.value.endsWith("Hz")?"Frequency":i.value.endsWith("eV")?"Energy":i.value.endsWith("s")?"Period":"Wavelength"),s=n(()=>!["Frequency","Energy"].includes(a.value)),g=n({get:()=>s.value?u.value:r.value,set:o=>{s.value?u.value=o:r.value=o}}),c=n({get:()=>s.value?r.value:u.value,set:o=>{s.value?r.value=o:u.value=o}}),U=n({get:()=>e.value?t.state.simulationSetup.gui.pointsWL:(c.value-g.value)/(t.state.simulationSetup.gui.pointsWL-1),set:o=>{e.value?t.commit("simulationSetup/setPointsWL",o):t.commit("simulationSetup/setPointsWL",1+(c.value-g.value)/o)}});return{fromSource:g,toSource:c,pointsSource:U,isShowingHelpForInputWithUnits:p,flexRowTitleStyle:F,rowTitle:a,sourceUnits:i,isPointsToggle:e}}}),G={class:"row items-baseline"},z={class:"col-xs-12 col-sm-auto text-weight-bold text-center q-px-md q-py-sm"},A=l("br",null,null,-1),D={class:"col-xs-grow col-sm"},O={class:"row justify-xs-center justify-sm-start items-baseline"},X={class:"col-auto"},Y={class:"col-auto"},Z={key:0,class:"col-auto"};function J(e,t,p,i,u,r){const a=$("input-with-units");return S(),w("div",G,[l("div",z,[e.isInfoMode?(S(),q(H,{key:0,anchor:"top middle",self:"center middle"},{default:Q(()=>[B(" current source settings"),A]),_:1})):W("",!0),l("div",{style:M(e.flexRowTitleStyle)},E(e.rowTitle),5)]),l("div",D,[l("div",O,[l("div",X,[d(a,{"input-result":e.fromSource,"onUpdate:inputResult":t[0]||(t[0]=s=>e.fromSource=s),"is-showing-help":e.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":t[1]||(t[1]=s=>e.isShowingHelpForInputWithUnits=s),"initial-expression":e.fromSource.toString(),units:e.sourceUnits,"is-info-mode":e.isInfoMode,"is-error":e.fromSource<e.$store.state.guiRuntime.safeFromWL,title:"from"},null,8,["input-result","is-showing-help","initial-expression","units","is-info-mode","is-error"])]),l("div",Y,[d(a,{"input-result":e.toSource,"onUpdate:inputResult":t[2]||(t[2]=s=>e.toSource=s),"is-showing-help":e.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":t[3]||(t[3]=s=>e.isShowingHelpForInputWithUnits=s),"initial-expression":e.toSource.toString(),units:e.sourceUnits,"is-info-mode":e.isInfoMode,"is-error":e.toSource>e.$store.state.guiRuntime.safeToWL,title:"to"},null,8,["input-result","is-showing-help","initial-expression","units","is-info-mode","is-error"])]),e.isInfoMode?W("",!0):(S(),w("div",Z,[d(a,{"input-result":e.pointsSource,"onUpdate:inputResult":t[4]||(t[4]=s=>e.pointsSource=s),"is-showing-help":e.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":t[5]||(t[5]=s=>e.isShowingHelpForInputWithUnits=s),"initial-expression":e.pointsSource.toString(),title:e.isPointsToggle?"points":"step",units:e.isPointsToggle?"":e.sourceUnits},null,8,["input-result","is-showing-help","initial-expression","title","units"]),d(N,{modelValue:e.isPointsToggle,"onUpdate:modelValue":t[6]||(t[6]=s=>e.isPointsToggle=s),dense:"",class:"q-ml-md"},null,8,["modelValue"])]))])])])}var _=V(j,[["render",J]]);export{_ as G,N as Q};
