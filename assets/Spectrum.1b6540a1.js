import{D as ut,b as rt,W as M,ad as G,c as m,m as S,_ as I,Y as f,ae as y,a7 as o,af as Q,a0 as i,$ as r,a3 as w,a4 as q,ag as k,ah as z,w as mt,Z as H,r as C,U as dt,ai as D,aj as ct,ak as pt,al as gt,X as R,am as ft,Q as tt,a2 as L,an as ht,ao as vt,ap as St,a1 as bt}from"./index.9041cdd0.js";import{Q as yt,a as _t}from"./QCard.ef21fad4.js";import{g as Pt,c as Rt,f as F,b as B,Q as X,I as wt,a as Z,m as K,d as et,e as E}from"./InputWithUnits.28d3e368.js";import{Q as N,j as V,k as Y}from"./format.ce9ff41f.js";import{Q as O,a as A,R as $t}from"./ReactiveChart.057ffced.js";import{G as Qt}from"./GetHostIndex.8098174a.js";import{G as Tt}from"./GetSourceParameters.9839ce19.js";import{S as Ut,Q as J,a as st,b as ot,c as lt,d as it}from"./QTable.e710f594.js";import{a as xt}from"./QList.9686cbf1.js";import{R as Vt}from"./RunSimulationSpectrum.8702f255.js";import"./use-dark.1520c919.js";function at(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}var kt=ut({name:"close-popup",beforeMount(t,{value:e}){const n={depth:at(e),handler(l){n.depth!==0&&setTimeout(()=>{const c=Pt(t);c!==void 0&&Rt(c,l,n.depth)})},handlerKey(l){rt(l,13)===!0&&n.handler(l)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=at(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}});const qt=M({name:"GetUnits",components:{},setup(){const t=["nm","\xB5m","mm","cm","m"],e=[{title:"Frequency",children:[{label:"MHz"},{label:"GHz"},{label:"THz"}]},{title:"Energy",children:[{label:"meV"},{label:"eV"}]},{title:"Period duration",children:[{label:"ps"},{label:"fs"}]}],n=G(),l=m({get:()=>n.state.guiRuntime.isSourceSameUnits,set:h=>n.commit("guiRuntime/setIsSourceSameUnits",h)}),c=m({get:()=>n.state.guiRuntime.units,set:h=>n.commit("guiRuntime/setUnits",h)}),b=m({get:()=>({label:n.state.guiRuntime.sourceUnits}),set:h=>n.commit("guiRuntime/setSourceUnits",h.label)});let a="THz";return S(l,()=>{l.value?(a=n.state.guiRuntime.sourceUnits,n.commit("guiRuntime/setSourceUnits",c.value)):n.commit("guiRuntime/setSourceUnits",a)}),S(c,()=>{l.value&&n.commit("guiRuntime/setSourceUnits",c.value)}),{isSourceSameUnits:l,flexRowTitleStyle:F,basicSelectorWidthStyle:B,unitsOptions:t,units:c,sourceUnits:b,sourceUnitsOptions:e}}}),Wt={class:"row items-baseline"},Mt={class:"col-xs-12 col-sm-auto text-weight-bold text-center q-px-md q-py-sm"},It={class:"col-xs-grow col-sm q-px-xs"},Lt={class:"row justify-xs-center justify-sm-start items-center"},Ht={class:"col-auto"},Gt={class:"row items-center justify-center"},Et=o("div",{class:"text-right"},"length",-1),Ot=o("div",null,null,-1),Nt={class:"col-auto"},Ft={class:"row items-center justify-center"},jt=o("div",{class:"text-right q-pl-md"},"plane wave",-1),zt={class:"row q-pa-xs items-center"},Ct=o("div",null,"same",-1);function Dt(t,e,n,l,c,b){return f(),y("div",Wt,[o("div",Mt,[o("div",{style:Q(t.flexRowTitleStyle)},"Units",4)]),o("div",It,[o("div",Lt,[o("div",Ht,[o("div",Gt,[Et,i(X,{modelValue:t.units,"onUpdate:modelValue":e[0]||(e[0]=a=>t.units=a),options:t.unitsOptions,class:"q-pa-xs",outlined:"",dense:"","options-dense":"",style:Q("width: "+t.basicSelectorWidthStyle),behavior:"menu"},null,8,["modelValue","options","style"]),Ot])]),o("div",Nt,[o("div",Ft,[jt,i(X,{modelValue:t.sourceUnits,"onUpdate:modelValue":e[1]||(e[1]=a=>t.sourceUnits=a),options:t.sourceUnitsOptions,style:Q("width: "+t.basicSelectorWidthStyle),class:"q-pa-xs",disable:t.isSourceSameUnits,outlined:!t.isSourceSameUnits,filled:t.isSourceSameUnits,dense:"","options-dense":"","option-value":"label","option-label":"label",behavior:"menu"},{option:r(a=>[i(N,{label:a.opt.title,dense:""},{default:r(()=>[i(V,{class:"text-weight-bold"},{default:r(()=>[w(q(a.opt.title),1)]),_:2},1024)]),_:2},1032,["label"]),(f(!0),y(k,null,z(a.opt.children,h=>mt((f(),H(N,{key:h.label,dense:"",clickable:"",onClick:s=>t.sourceUnits=h},{default:r(()=>[i(V,null,{default:r(()=>[i(Y,{class:"q-ml-md"},{default:r(()=>[w(q(h.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[kt]])),128))]),_:1},8,["modelValue","options","style","disable","outlined","filled"]),o("div",zt,[i(O,{modelValue:t.isSourceSameUnits,"onUpdate:modelValue":e[2]||(e[2]=a=>t.isSourceSameUnits=a),size:"sm"},null,8,["modelValue"]),Ct])])])])])])}var Bt=I(qt,[["render",Dt]]);const Kt=M({name:"GetParticleParameters",components:{InputWithUnits:wt,ShowSpectrumRange:Ut},setup(){const t=G(),e=m(()=>t.state.simulationSetup.gui.fromWL),n=m(()=>t.state.simulationSetup.gui.toWL),l=C(t.state.simulationSetup.gui.layers.length),c=C("bulk");l.value==1&&(c.value="bulk"),l.value==2&&(c.value="core-shell"),l.value==3&&(c.value="multilayer");const b=m({get:()=>t.state.guiRuntime.isShowingHelpForInputWithUnits,set:p=>t.commit("guiRuntime/setIsShowingHelpForInputWithUnits",p)}),a=m({get:()=>t.state.guiRuntime.units,set:p=>t.commit("guiRuntime/setUnits",p)}),h=m(()=>t.state.guiRuntime.activatedMaterials);let s=dt(D.exports.cloneDeep(t.state.simulationSetup.gui.layers));S(t.state.simulationSetup.gui.layers,()=>{s.splice(0,s.length,...t.state.simulationSetup.gui.layers.map(p=>D.exports.cloneDeep(p))),l.value=t.state.simulationSetup.gui.layers.length},{deep:!0}),S(s,()=>{const p=t.state.simulationSetup.gui.layers;let v=0,T=1e300;for(let _=0;_<s.length&&_<p.length;_++){gt(p[_].layerWidth,s[_].layerWidth)&&(s[_].layerWidth=p[_].layerWidth);let U=s[_].material.spectrumRangeStart,x=s[_].material.spectrumRangeEnd;U&&U>v&&(v=U),x&&x<T&&(T=x)}t.commit("simulationSetup/setLayers",s),t.commit("guiRuntime/setSafeWL",{safeFromWL:v,safeToWL:T})},{deep:!0}),S(c,()=>{c.value=="bulk"&&(l.value=1),c.value=="core-shell"&&(l.value=2),c.value=="multilayer"&&(l.value=3)}),S(l,()=>{if(l.value=parseInt(l.value.toString()),isNaN(l.value))return;for(l.value<1&&(l.value=1),l.value>K&&(l.value=K);s.length>l.value;)s.pop();let p=s[0].layerWidth;for(;s.length<l.value;)s.push({layerWidth:p*.1,material:t.state.guiRuntime.activatedMaterials[1],n:4,k:.01})});function g(p,v){return p=="core-shell"&&v==0?"core":p=="core-shell"&&v==1?"shell":p=="multilayer"?"layer "+(v+1).toString():"bulk"}function u(p){return p==0?"radius":"thickness"}return{flexRowTitleStyle:F,basicWidthStyle:Z,basicSelectorWidthStyle:B,maxNumberOfLayers:K,fromWavelengthStore:e,toWavelengthStore:n,particleType:c,numberOfLayers:l,layers:s,getLayerTitle:g,getTooltipText:u,units:a,toUnits:ct,fromUnits:pt,isShowingHelpForInputWithUnits:b,activatedMaterials:h}}}),At={class:"row items-baseline"},Xt={class:"col-xs-12 col-sm-auto text-weight-bold text-center q-px-md q-py-sm"},Yt={class:"col-xs-grow col-sm q-px-xs"},Zt={class:"row justify-xs-center justify-sm-start items-baseline"},Jt={class:"col-auto"},te={class:"q-gutter-x-md"},ee={class:"col-auto q-px-md"},se={class:"row justify-xs-center justify-sm-start items-baseline"},oe={class:"col-auto"},le={class:"col-auto"},ie={class:"col-xs-12 col-sm-auto text-center q-px-md q-py-sm"},ae={class:"col-xs-grow col-sm"},ne={class:"row justify-xs-center justify-sm-start items-baseline"},ue={class:"col-auto"},re={class:"col-auto"},me={key:0},de={key:1},ce={key:0,class:"row justify-xs-center justify-sm-start items-baseline"},pe={class:"col-auto"},ge={class:"col-auto"};function fe(t,e,n,l,c,b){const a=R("input-with-units"),h=R("ShowSpectrumRange");return f(),y(k,null,[o("div",At,[o("div",Xt,[o("div",{style:Q(t.flexRowTitleStyle)},"Spherical particle",4)]),o("div",Yt,[o("div",Zt,[o("div",Jt,[o("div",te,[i(A,{modelValue:t.particleType,"onUpdate:modelValue":e[0]||(e[0]=s=>t.particleType=s),dense:"",size:"sm",val:"bulk",label:"bulk"},null,8,["modelValue"]),i(A,{modelValue:t.particleType,"onUpdate:modelValue":e[1]||(e[1]=s=>t.particleType=s),dense:"",size:"sm",val:"core-shell",label:"core-shell"},null,8,["modelValue"])])]),o("div",ee,[o("div",se,[o("div",oe,[i(A,{modelValue:t.particleType,"onUpdate:modelValue":e[2]||(e[2]=s=>t.particleType=s),dense:"",size:"sm",val:"multilayer",label:"multilayer"},null,8,["modelValue"])]),o("div",le,[i(J,{modelValue:t.numberOfLayers,"onUpdate:modelValue":e[3]||(e[3]=s=>t.numberOfLayers=s),modelModifiers:{number:!0},disable:t.particleType!="multilayer",outlined:t.particleType=="multilayer",filled:t.particleType!="multilayer",type:"number",class:"q-px-sm",min:"1",max:t.maxNumberOfLayers,step:"1",dense:"",style:Q("width: "+t.basicSelectorWidthStyle)},null,8,["modelValue","disable","outlined","filled","max","style"])])])])])])]),(f(!0),y(k,null,z(t.layers,(s,g)=>(f(),y("div",{key:g,class:"row items-baseline q-py-xs"},[o("div",ie,[o("div",{style:Q(t.flexRowTitleStyle)},q(t.getLayerTitle(t.particleType,g)),5)]),o("div",ae,[o("div",ne,[o("div",ue,[i(et,{class:"bg-primary shadow-4",anchor:"center left",self:"center middle"},{default:r(()=>[w(q(t.getTooltipText(g)),1)]),_:2},1024),i(a,{"is-showing-help":t.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":e[4]||(e[4]=u=>t.isShowingHelpForInputWithUnits=u),"initial-expression":t.toUnits(s.layerWidth,t.units).toString(),units:t.units,title:g==0?"R":"h","input-result":t.toUnits(s.layerWidth,t.units),"onUpdate:inputResult":u=>s.layerWidth=t.fromUnits(t.units,u)},null,8,["is-showing-help","initial-expression","units","title","input-result","onUpdate:inputResult"])]),o("div",re,[i(X,{modelValue:s.material,"onUpdate:modelValue":u=>s.material=u,options:t.activatedMaterials,style:Q("min-width: "+t.basicWidthStyle),class:"q-px-xs",dense:"","options-dense":"",outlined:"","options-value":"name","options-label":"name"},ft({selected:r(()=>[i(N,{dense:"",class:"q-pa-none",style:{"margin-top":"-1px","margin-bottom":"-1px"}},{default:r(()=>[i(V,{class:"q-pa-none"},{default:r(()=>[w(q(s.material.name),1)]),_:2},1024),s.material.name=="nk-constant"||s.material.name=="PEC"?L("",!0):(f(),H(V,{key:0,side:""},{default:r(()=>[i(h,{class:"text-caption","spectrum-range-start":s.material.spectrumRangeStart,"spectrum-range-end":s.material.spectrumRangeEnd},null,8,["spectrum-range-start","spectrum-range-end"])]),_:2},1024))]),_:2},1024)]),option:r(u=>[u.opt.name=="link"?(f(),y("span",me,[i(N,{clickable:"",dense:"",to:"/materials"},{default:r(()=>[i(V,{side:""},{default:r(()=>[i(tt,{size:"xs",name:"settings"})]),_:1}),i(V,null,{default:r(()=>[i(Y,null,{default:r(()=>[w("Manage materials...")]),_:1})]),_:1})]),_:1}),i(xt,{inset:""})])):(f(),y("span",de,[i(N,ht(u.itemProps,{disable:(!u.opt.kSpline||!u.opt.kSpline)&&!(u.opt.name=="nk-constant"||u.opt.name=="PEC")}),{default:r(()=>[i(V,null,{default:r(()=>[i(Y,null,{default:r(()=>[w(q(u.opt.name),1)]),_:2},1024)]),_:2},1024),u.opt.name=="nk-constant"||u.opt.name=="PEC"?L("",!0):(f(),H(V,{key:0,side:""},{default:r(()=>[i(h,{class:"text-caption","spectrum-range-start":u.opt.spectrumRangeStart,"spectrum-range-end":u.opt.spectrumRangeEnd},null,8,["spectrum-range-start","spectrum-range-end"])]),_:2},1024))]),_:2},1040,["disable"])]))]),_:2},[s.material.spectrumRangeStart>t.fromWavelengthStore||s.material.spectrumRangeEnd<t.toWavelengthStore?{name:"after",fn:r(()=>[i(et,null,{default:r(()=>[w(" Input conflict ")]),_:1}),i(tt,{name:"error",class:"text-warning"})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","options","style"])])]),s.material.name=="nk-constant"?(f(),y("div",ce,[o("div",pe,[i(a,{"is-showing-help":t.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":e[5]||(e[5]=u=>t.isShowingHelpForInputWithUnits=u),"input-result":s.n,"onUpdate:inputResult":u=>s.n=u,"initial-expression":s.n.toString(),title:"Re(n)"},null,8,["is-showing-help","input-result","onUpdate:inputResult","initial-expression"])]),o("div",ge,[i(a,{"is-showing-help":t.isShowingHelpForInputWithUnits,"onUpdate:isShowingHelp":e[6]||(e[6]=u=>t.isShowingHelpForInputWithUnits=u),"input-result":s.k,"onUpdate:inputResult":u=>s.k=u,"initial-expression":s.k.toString(),title:"Im(n)"},null,8,["is-showing-help","input-result","onUpdate:inputResult","initial-expression"])])])):L("",!0)])]))),128))],64)}var he=I(Kt,[["render",fe]]);const ve=M({name:"GetModesToPlot",setup(){const t=G(),e=m({get:()=>t.state.simulationSetup.gui.numberOfModesToPlot,set:n=>{let l=parseInt(n.toString());isNaN(l)||(l<1&&(l=1),l>E&&(l=E),t.commit("simulationSetup/setNumberOfModesToPlot",l),t.commit("plotRuntime/resizeSelectorIsPlotMode",l))}});return S(e,()=>{const n=parseInt(e.value.toString());isNaN(n)||(n<1&&(e.value=1),n>E&&(e.value=E))}),{flexRowTitleStyle:F,basicSelectorWidthStyle:B,basicWidthStyle:Z,numberOfModesToPlot:e,maxModes:E}}}),Se={class:"row items-baseline"},be={class:"col-xs-12 col-sm-auto text-weight-bold text-center q-px-md q-py-sm"},ye={class:"col-xs-grow col-sm q-px-xs"},_e={class:"row justify-xs-center justify-sm-start items-center"},Pe={class:"col-auto"};function Re(t,e,n,l,c,b){return f(),y("div",Se,[o("div",be,[o("div",{style:Q(t.flexRowTitleStyle)},"Modes to plot",4)]),o("div",ye,[o("div",_e,[o("div",Pe,[i(J,{modelValue:t.numberOfModesToPlot,"onUpdate:modelValue":e[0]||(e[0]=a=>t.numberOfModesToPlot=a),modelModifiers:{number:!0},outlined:"",type:"number",min:"1",max:t.maxModes,step:"1",dense:"",style:Q("width: "+t.basicSelectorWidthStyle)},null,8,["modelValue","max","style"])])])])])}var we=I(ve,[["render",Re]]);const{stopAndPrevent:$e}=vt,Qe=M({name:"GetPlotSettings",setup(){const t=G(),e=m({get:()=>t.state.simulationSetup.gui.plotLabel,set:l=>t.commit("simulationSetup/setPlotLabel",l)}),n=m(()=>{const l=t.state.simulationSetup.gui.layers.length;let c="bulk";if(l==2)return"core-shell";if(l>2)return"multilayer";const b=t.state.simulationSetup.gui.layers[0].layerWidth.toString(),a=t.state.guiRuntime.units;return c+" R="+b+a});return{flexRowTitleStyle:F,basicSelectorWidthStyle:B,basicWidthStyle:Z,plotLabel:e,shadowText:n,processInputFill(l){l!==void 0&&l.code==="Tab"&&n.value.length>0&&e.value==""&&($e(l),e.value=n.value)}}}}),Te={class:"row items-baseline"},Ue={class:"col-xs-12 col-sm-auto text-center q-px-md q-py-sm"},xe=o("span",{class:"text-weight-bold"},"Plot label",-1),Ve={class:"col-xs-grow col-sm q-px-xs"},ke={class:"row justify-xs-center justify-sm-start items-center"},qe={class:"col-auto"};function We(t,e,n,l,c,b){return f(),y("div",Te,[o("div",Ue,[o("div",{style:Q(t.flexRowTitleStyle)},[xe,w(" (optional) ")],4)]),o("div",Ve,[o("div",ke,[o("div",qe,[i(J,{modelValue:t.plotLabel,"onUpdate:modelValue":e[0]||(e[0]=a=>t.plotLabel=a),"shadow-text":t.plotLabel==""?t.shadowText+" (Tab to complete)":"",outlined:"",dense:"",class:"q-py-xs",style:Q("width: "+t.basicWidthStyle),onKeydown:t.processInputFill,onFocus:t.processInputFill},null,8,["modelValue","shadow-text","style","onKeydown","onFocus"])])])])])}var Me=I(Qe,[["render",We]]);const Ie=M({name:"GetPlotSettings",setup(){const t=G(),e=m({get:()=>t.state.plotRuntime.isRemovePlots,set:d=>{t.commit("plotRuntime/setIsRemovePlots",d),t.commit("plotRuntime/updateSpectrumPlots")}}),n=m({get:()=>t.state.plotRuntime.isLogPlot,set:d=>{t.commit("plotRuntime/setIsLogPlot",d),t.commit("plotRuntime/updateSpectrumPlots")}}),l=m({get:()=>t.state.plotRuntime.isPlotQsca,set:d=>t.commit("plotRuntime/setQscaPlotToggle",d)}),c=m({get:()=>t.state.plotRuntime.isPlotQabs,set:d=>t.commit("plotRuntime/setQabsPlotToggle",d)}),b=m({get:()=>t.state.plotRuntime.isPlotQext,set:d=>t.commit("plotRuntime/setQextPlotToggle",d)}),a=m({get:()=>t.state.plotRuntime.isPlotQscaTotal,set:d=>t.commit("plotRuntime/setQscaTotalPlotToggle",d)}),h=m({get:()=>t.state.plotRuntime.isPlotQabsTotal,set:d=>t.commit("plotRuntime/setQabsTotalPlotToggle",d)}),s=m({get:()=>t.state.plotRuntime.isPlotQextTotal,set:d=>t.commit("plotRuntime/setQextTotalPlotToggle",d)}),g=m(()=>[{name:"name",label:"",align:"left",field:"name",headerStyle:""},{name:"Qsca",label:"Qsca",align:"left",field:"Qsca",headerStyle:""},{name:"Qabs",label:"Qabs",align:"left",field:"Qabs",headerStyle:""},{name:"Qext",label:"Qext",align:"left",field:"Qext",headerStyle:""}]),u=m({get:()=>[{name:"total",Qsca:a.value,Qabs:h.value,Qext:s.value},{name:"modes",Qsca:l.value,Qabs:c.value,Qext:b.value}],set:d=>{t.commit("plotRuntime/setQscaTotalPlotToggle",d[0].Qsca),t.commit("plotRuntime/setQabsTotalPlotToggle",d[0].Qabs),t.commit("plotRuntime/setQextTotalPlotToggle",d[0].Qext),t.commit("plotRuntime/setQscaPlotToggle",d[1].Qsca),t.commit("plotRuntime/setQabsPlotToggle",d[1].Qabs),t.commit("plotRuntime/setQextPlotToggle",d[1].Qext)}}),p=C(u.value);S(u,()=>{p.value=u.value},{deep:!0}),S(p,()=>{u.value=p.value},{deep:!0});const v=m(()=>t.state.simulationSetup.gui.numberOfModesToPlot),T=m(()=>t.state.simulationSetup.current.numberOfModesToPlot),_=m(()=>{let d=[{name:"name",label:"",align:"left",field:"",headerStyle:""}];for(let P=1;P<=v.value;++P){let W=St(P),$="";P>T.value&&($="color:LightGray"),d.push({name:P.toString(),label:W,align:"left",field:P.toString(),headerStyle:$})}return d});t.commit("plotRuntime/resizeSelectorIsPlotMode",v.value);const U=m({get:()=>{let d=[],P={name:"E"},W={name:"H"};for(let $=0;$<v.value;++$)P[($+1).toString()]=t.state.plotRuntime.isPlotModeE[$],W[($+1).toString()]=t.state.plotRuntime.isPlotModeH[$];return d.push(D.exports.cloneDeep(P)),d.push(D.exports.cloneDeep(W)),d},set:d=>{let P=[],W=[];const $=d[0],nt=d[1];for(let j=0;j<v.value;++j)P.push($[(j+1).toString()]),W.push(nt[(j+1).toString()]);t.commit("plotRuntime/setIsPlotModeE",P),t.commit("plotRuntime/setIsPlotModeH",W)}}),x=C(U.value);return S(U,()=>{x.value=U.value},{deep:!0}),S(x,()=>{U.value=x.value},{deep:!0}),{flexRowTitleStyle:F,isRemovePlots:e,isLogPlot:n,isPlotQsca:l,isPlotQabs:c,isPlotQext:b,guiNumberOfModes:v,simulatedNumberOfModes:T,columns:_,rows:x,columnsQ:g,rowsQ:p}}}),Le={class:"row items-baseline"},He={class:"col-auto q-py-xs q-px-sm"},Ge={class:"col-auto q-py-xs q-px-sm"},Ee={class:"row items-baseline"},Oe={class:"col-xs-grow col-sm-auto q-px-sm"},Ne={key:0,class:"col-xs-grow col-sm-auto q-px-sm"};function Fe(t,e,n,l,c,b){return f(),y(k,null,[o("div",Le,[o("div",He,[i(O,{modelValue:t.isRemovePlots,"onUpdate:modelValue":e[0]||(e[0]=a=>t.isRemovePlots=a),size:"sm"},{default:r(()=>[w(" remove previous spectra ")]),_:1},8,["modelValue"])]),o("div",Ge,[i(O,{modelValue:t.isLogPlot,"onUpdate:modelValue":e[1]||(e[1]=a=>t.isLogPlot=a),size:"sm"},{default:r(()=>[w(" plot cross-sections in log scale ")]),_:1},8,["modelValue"])])]),o("div",Ee,[o("div",Oe,[i(lt,{title:"Values to plot","title-class":"text-body1 text-bold",rows:t.rowsQ,columns:t.columnsQ,"hide-bottom":"",dense:"",flat:"","row-key":"name"},{body:r(a=>[i(st,{props:a},{default:r(()=>[i(ot,{key:"name",props:a},{default:r(()=>[w(q(a.row.name),1)]),_:2},1032,["props"]),(f(!0),y(k,null,z(a.row,(h,s)=>(f(),y(k,{key:s},[s!="name"?(f(),H(it,{key:0},{default:r(()=>[i(O,{modelValue:a.row[s],"onUpdate:modelValue":g=>a.row[s]=g,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):L("",!0)],64))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),t.isPlotQabs||t.isPlotQsca||t.isPlotQext?(f(),y("div",Ne,[i(lt,{title:"Modes to plot","title-class":"text-body1 text-bold",rows:t.rows,columns:t.columns,"hide-bottom":"",dense:"",flat:"","row-key":"name"},{body:r(a=>[i(st,{props:a},{default:r(()=>[i(ot,{key:"name",props:a},{default:r(()=>[w(q(a.row.name),1)]),_:2},1032,["props"]),(f(!0),y(k,null,z(a.row,(h,s)=>(f(),y(k,{key:s},[s!="name"?(f(),H(it,{key:0},{default:r(()=>[i(O,{modelValue:a.row[s.toString()],"onUpdate:modelValue":g=>a.row[s.toString()]=g,dense:"",disable:s>t.simulatedNumberOfModes},null,8,["modelValue","onUpdate:modelValue","disable"])]),_:2},1024)):L("",!0)],64))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])):L("",!0)])],64)}var je=I(Ie,[["render",Fe]]);const ze=M({name:"PlotSpectra",components:{ReactiveChart:$t},setup(){const t=G(),e=m(()=>t.state.plotRuntime.isPlotQsca);S(e,()=>t.commit("plotRuntime/updateSpectrumPlots"));const n=m(()=>t.state.plotRuntime.isPlotQabs);S(n,()=>t.commit("plotRuntime/updateSpectrumPlots"));const l=m(()=>t.state.plotRuntime.isPlotQext);S(l,()=>t.commit("plotRuntime/updateSpectrumPlots"));const c=m(()=>t.state.plotRuntime.isPlotQscaTotal);S(c,()=>t.commit("plotRuntime/updateSpectrumPlots"));const b=m(()=>t.state.plotRuntime.isPlotQabsTotal);S(b,()=>t.commit("plotRuntime/updateSpectrumPlots"));const a=m(()=>t.state.plotRuntime.isPlotQextTotal);S(a,()=>t.commit("plotRuntime/updateSpectrumPlots"));const h=m(()=>t.state.plotRuntime.isPlotModeE);S(h,()=>t.commit("plotRuntime/updateSpectrumPlots"),{deep:!0});const s=m(()=>t.state.plotRuntime.isPlotModeH);S(s,()=>t.commit("plotRuntime/updateSpectrumPlots"),{deep:!0});const g=m(()=>t.state.guiRuntime.sourceUnits);function u(){let v="";g.value.endsWith("Hz")?v="Frequency ["+g.value+"]":g.value.endsWith("eV")?v="Energy ["+g.value+"]":g.value.endsWith("s")?v="Period ["+g.value+"]":v="Wavelength ["+g.value+"]",t.commit("plotRuntime/updateXAxisTitle",v)}function p(){u(),t.commit("plotRuntime/setWLsInUnits",g.value),t.commit("plotRuntime/updateSpectrumPlots")}return p(),S(g,()=>p()),{}}});function Ce(t,e,n,l,c,b){const a=R("ReactiveChart");return f(),y("div",null,[i(a,{chart:t.$store.state.plotRuntime.spectrumPlots},null,8,["chart"])])}var De=I(ze,[["render",Ce]]);const Be=M({name:"SpectrumPage",components:{GetModesToPlot:we,RunSimulationSpectrum:Vt,GetUnits:Bt,GetHostIndex:Qt,GetSourceParameters:Tt,GetParticleParameters:he,GetPlotSettings:Me,PlotSelector:je,PlotSpectra:De}}),Ke=o("div",{class:"q-ma-md"},null,-1),Ae=o("div",{class:"q-ma-xs"},null,-1),Xe=o("div",{id:"GetSourceParametersHref",class:"q-ma-xs"},null,-1),Ye=o("div",{class:"q-ma-xs"},null,-1),Ze=o("div",{class:"q-ma-xs"},null,-1),Je=o("div",{class:"q-ma-xs"},null,-1),ts=o("div",{class:"q-ma-xs"},null,-1),es=o("div",{class:"q-ma-sm"},null,-1),ss=o("div",{class:"q-ma-xs"},null,-1),os=o("div",{class:"q-ma-lg"},null,-1);function ls(t,e,n,l,c,b){const a=R("GetHostIndex"),h=R("GetUnits"),s=R("GetSourceParameters"),g=R("GetParticleParameters"),u=R("GetModesToPlot"),p=R("GetPlotSettings"),v=R("RunSimulationSpectrum"),T=R("PlotSelector"),_=R("PlotSpectra");return f(),H(yt,{class:"column q-px-md"},{default:r(()=>[Ke,i(a),Ae,i(h),Xe,i(s),Ye,i(g),Ze,i(u),Je,i(p),ts,i(v),es,i(T),ss,i(_),os,i(_t,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:r(()=>[i(bt,{size:"xs",fab:"",icon:"keyboard_arrow_up",color:"primary"})]),_:1})]),_:1})}var hs=I(Be,[["render",ls]]);export{hs as default};
